import os
import sys
from datetime import datetime
from time import time

from pyrogram import Client, filters
from pyrogram.types import Message
from pyrogram.types import InlineKeyboardButton, InlineKeyboardMarkup, Message

from config import HNDLR, SUDO_USERS

START_TIME = datetime.utcnow()
TIME_DURATION_UNITS = (
    ("Ø§Ù„Ø£Ø­Ø¯", 60 * 60 * 24 * 7),
    ("ÙŠÙˆÙ…", 60 * 60 * 24),
    ("Ø§Ù„Ø³Ø§Ø¹Ø©", 60 * 60),
    ("Ø§Ù„Ø¯Ù‚ÙŠÙ‚Ø©", 60),
    ("Ø§Ù„Ø«Ø§Ù†ÙŠÙ‡", 1),
)


async def _human_time_duration(seconds):
    if seconds == 0:
        return "inf"
    parts = []
    for unit, div in TIME_DURATION_UNITS:
        amount, seconds = divmod(int(seconds), div)
        if amount > 0:
            parts.append("{} {}{}".format(amount, unit, "" if amount == 1 else ""))
    return ", ".join(parts)


@Client.on_message(filters.command(["Ø¨Ù†Ùƒ"], prefixes=f"{HNDLR}"))
async def ping(client, m: Message):
    await m.delete()
    start = time()
    current_time = datetime.utcnow()
    m_reply = await m.reply_text("âš¡")
    delta_ping = time() - start
    uptime_sec = (current_time - START_TIME).total_seconds()
    uptime = await _human_time_duration(int(uptime_sec))
    await m_reply.edit(
        f"<b>ğŸ“ Ø¨Ù€Ù†Ù€Ùƒ/b> `{delta_ping * 1000:.3f} Ø¨Ø§Ù„Ø«Ø§Ù†ÙŠÙ‡` \n<b>â³ Ø´ØºØ§Ù„</b> - `{uptime}`"
    )


@Client.on_message(
    filters.user(SUDO_USERS) & filters.command(["Ø§Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„"], prefixes=f"{HNDLR}")
)
async def restart(client, m: Message):
    await m.delete()
    jmthon = await m.reply("1")
    await jmthon.edit("2")
    await jmthon.edit("3")
    await jmthon.edit("4")
    await jmthon.edit("5")
    await jmthon.edit("6")
    await jmthon.edit("7")
    await jmthon.edit("8")
    await jmthon.edit("9")
    await jmthon.edit("**ØªÙ… Ø§Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„ Ø³ÙˆØ±Ø³ Ù†ÙˆÙÙ€Ø§ Ù…ÙŠÙˆØ²Ùƒ Ø¨Ù†Ø¬Ø§Ø­ âœ“**")
    os.execl(sys.executable, sys.executable, *sys.argv)
    quit()


@Client.on_message(filters.command(["Ø§Ù„Ø§ÙˆØ§Ù…Ø±"], prefixes=f"{HNDLR}"))
async def help(client, m: Message):
    await m.delete()
    HEPZ = f"""
- Ù‡ÙŠÙŠ ÙŠ Ù‚Ù„Ø¨  {m.from_user.mention} ğŸŒ¿ğŸ’•
                                   â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹  â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹âœ«
Ù‚Ø§Ø¦Ù…Ù€Ø© Ø§ÙˆØ§Ù…Ø± Ø³Ù€ÙˆØ±Ø³ Ù†Ù€ÙˆÙÙ€Ø§ Ù…Ù€ÙŠÙ€ÙˆØ²Ùƒ. ğŸŒ¿ğŸ’•
                                   â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹  â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹âœ«
- Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†: 
                                   â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹  â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹âœ«
â€¢ {HNDLR}Ø´ØºÙ„
 Ø§Ø³Ù… Ø§Ù„Ø§ØºÙ†ÙŠÙ‡ | Ø±Ø§Ø¨Ø· ÙŠÙˆØªÙŠÙˆØ¨ | Ø§Ù„Ø±Ø¯ Ø¹Ù„Ù‰ Ù…Ù„Ù Ù…Ù‚Ø·Ø¹ ØµÙˆØªÙŠ â€‹â€‹â€‹â€‹â€¢
 - Ù„ØªØ´ØºÙŠÙ„ Ù…Ù‚Ø·Ø¹ ØµÙˆØªÙŠ ÙÙŠ Ø§Ù„Ù…ÙƒØ§Ù„Ù…Ù‡
                                     â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹âœ«
â€¢ {HNDLR}ÙÙŠØ¯ÙŠÙˆ
 Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙÙŠØ¯ÙŠÙˆ | Ø±Ø§Ø¨Ø· ÙŠÙˆØªÙŠÙˆØ¨ | Ø§Ù„Ø±Ø¯ Ø¹Ù„Ù‰ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ â€‹â€‹â€‹â€‹â€¢
 - Ù„ØªØ´ØºÙŠÙ„ ÙÙŠØ¯ÙŠÙˆ ÙÙŠ Ø§Ù„Ù…ÙƒØ§Ù„Ù…Ø©
                                     â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹âœ«
â€¢ {HNDLR}Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©
  - Ù„Ø¹Ø±Ø¶ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„Ø­Ø§Ù„ÙŠØ©
                                   â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹  â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹âœ«
â€¢ {HNDLR}Ø¨Ù†Ùƒ
 - Ù„Ø¹Ø±Ø¶ Ø³Ø±Ø¹Ù‡ Ø§Ù„Ù†Øª Ù„Ù„Ø¨ÙˆØª
                                   â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹  â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹âœ«
â€¢ {HNDLR}Ø§Ù„Ø§ÙˆØ§Ù…Ø±
 - Ù„Ø¹Ø±Ø¶ Ø§ÙˆØ§Ù…Ø± Ø³ÙˆØ±Ø³ Ù…ÙŠÙˆØ²Ùƒ Ù†ÙˆÙÙ€Ø§
                                   â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹  â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹âœ«
- Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ù…Ø´Ø±ÙÙŠÙ†  : 
                                   â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹  â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹âœ«
â€¢ {HNDLR}ÙƒÙ…Ù„
 - Ù„Ù…ÙˆØ§ØµÙ„Ø© ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…Ù‚Ø·Ø¹ Ø§Ù„ØµÙˆØªÙŠ Ø£Ùˆ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ø§Ù„Ù…ØªÙˆÙ‚Ù
                                   â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹  â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹âœ«
â€¢ {HNDLR}ÙˆÙ‚Ù
 - Ù„Ø¥ÙŠÙ‚Ø§Ù ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…Ù‚Ø·Ø¹ Ø§Ù„ØµÙˆØªÙŠ Ø£Ùˆ Ù…Ù‚Ø·Ø¹ ÙÙŠØ¯ÙŠÙˆ Ù…Ø¤Ù‚ØªÙ‹Ø§
                                   â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹  â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹âœ«
â€¢ {HNDLR}ØªØ®Ø·ÙŠ
 - Ù„ØªØ®Ø·ÙŠ Ø§Ù„Ù…Ù‚Ø·Ø¹ Ø§Ù„ØµÙˆØªÙŠ Ø£Ùˆ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ø§Ù„Ø­Ø§Ù„ÙŠ ÙˆØªØ´ØºÙŠÙ„ Ù…Ø§ Ø¨Ø¹Ø¯Ù‡
                                   â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹  â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹âœ«
â€¢ {HNDLR}Ø§Ù†Ù‡Ø§Ø¡
 - Ù„Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„ØªØ´ØºÙŠÙ„
                                   â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹  â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹âœ«
By : @K_P_S_6
                                   â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹  â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹âœ«
"""
    await m.reply(HEPZ)


@Client.on_message(filters.command(["Ø§Ù„Ø³ÙˆØ±Ø³","Ø§Ù„Ø±ÙŠØ¨Ùˆ","Ø³ÙˆØ±Ø³"], prefixes=f"{HNDLR}"))
async def repo(client, martin: Message):
    await martin.delete()    
    keyboard = InlineKeyboardMarkup(
        [
            [
                InlineKeyboardButton("# ğ™ğ™€ğ˜¼ğ™ˆ ğ™‰ğ™Šğ™‘ğ˜¼", url=f"https://t.me/O_A_V"),
                InlineKeyboardButton("# ğ™ğ™Šğ™ğ™ğ˜¾ğ™€", url=f"https://t.me/K_P_S_6"),
            ]
        ]
    )

    REPZ = f"""
- Ù‡ÙŠÙŠ ÙŠ Ù‚Ù„Ø¨  {m.from_user.mention} ğŸŒ¿ğŸ’•
                                   â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹  â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹âœ«
ğŸ¶ Ø³ÙˆØ±Ø³ Ù†ÙˆÙÙ€Ø§ Ù…ÙŠÙˆØ²Ùƒ
                                   â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹  â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹âœ«
Ù„Ù€ØªØ´ØºÙŠÙ„ Ø§Ù„Ø§ØºØ§Ù†ÙŠ ÙÙŠ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø§Øª Ø§Ù„ØµÙˆØªÙŠÙ‡
                                   â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹  â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹âœ«
                                   [Ù„Ù€Ù€Ù†Ù€ÙƒÙƒ ØªÙ€Ù€Ù†ØµÙ€ÙŠØ¨ Ø³ÙˆØ±Ø³ Ù†Ù€ÙˆÙÙ€Ø§ Ù…Ù€Ù€ÙŠÙ€ÙˆØ²Ùƒ ğŸŒ¿ğŸ’•](https://heroku.com/deploy?template=https://github.com/Xavier-V1/UserMusic)
                                   â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹  â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹âœ«                                                                      â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹  â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹
âš’ï¸ Ù„Ø¹Ø±Ø¶ Ø§ÙˆØ§Ù…Ø± Ø§Ù„Ø³ÙˆØ±Ø³ Ø§Ø±Ø³Ù„  {HNDLR}Ø§Ù„Ø§ÙˆØ§Ù…Ø±
                                   â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹  â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹âœ«
ğŸ“š â€¢ Ù‚Ù†Ø§Ø© Ù†ÙˆÙÙ€Ø§  : @K_P_S_6
                                   â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹  â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹âœ«                                   
"""
    await martin.reply_photo(
        photo=f"https://telegra.ph/file/ad4ede69d64e5640abd7d.jpg",
        caption=REPZ,
        reply_markup=keyboard,
    )